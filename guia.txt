http://localhost:8080/swagger-ui/index.html // Direccion SwaggerUI

./mvnw clean compile    // Limpiar codigo 

./mvnw spring-boot:run  // Correr app

./mvnw clean install -DskipTests // Limpiar cache de maven y compilar, por si modifico pom. Para limpiar basura de target.

--------------------------------*-----------------------------------------

Checklist para probar en Swagger:
POST /api/v1/usuarios: Crea un supervisor (ej: ID 1).

POST /api/v1/equipos: Crea un equipo usando el supervisorId: 1.

POST /api/v1/conductores: Crea un conductor usando el equipoId generado.

POST /api/v1/vehiculos: Crea un camión.

POST /api/v1/productos: Crea tus productos y sus precios (Snapshot).

------------------------------------ * --------------------------

Ver GET DE PRODUCTOS, TIRA ERROR 500

------------------------------------ * --------------------------

3. Plan de Acción: Hoja de Ruta Final
He dividido esto en 4 "Sprints" cortos de backend para organizar el trabajo:

Sprint B: El "Tarifario" (Mantenimiento de Precios)
Crear ProductoPrecioController.

Implementar:

POST /api/v1/precios: Crear un nuevo precio para un producto_id.

PUT /api/v1/precios/{id}: Actualizar el valor o la etiqueta.

DELETE /api/v1/precios/{id}: Borrado físico (seguro gracias a tus snapshots).

Sprint C: Visualización Operativa (Equipos y Detalles)
Refactorizar EquipoResponseDTO o crear uno nuevo (EquipoDetalleDTO) que incluya List<ConductorResponseDTO>.

Asegurar que el GET /api/v1/equipos/{id} devuelva toda la estructura para la pestaña que planeas en el Front.

Sprint D: Reportes y Filtros (Query Methods / Specifications)
Implementar la búsqueda de viajes por rango de fechas, estado o patente.

Optimizar los queries del Dashboard si es necesario.

4. Advertencias de Senior (Cuestiones a tener en cuenta)
Validación de Roles (RBAC): Asegúrate de que los nuevos endpoints de "Desactivar" o "Cambiar Estados" tengan la anotación @PreAuthorize correcta. Solo ADMIN o TOTAL deberían poder desactivar usuarios, pero un ADMINISTRATIVO podría poner un camión en mantenimiento.

Consistencia de Precios: Aunque permitas el borrado físico de un precio, yo te recomendaría validar en el DELETE que no haya ningún viaje EN_PROCESO que esté usando ese productoPrecioId en ese preciso momento, para evitar errores de null pointer en el cierre del viaje.

DTOs de Respuesta: Para la funcionalidad de "Ver Equipos", recuerda usar el EquipoMapper. No devuelvas la entidad Equipo directamente porque podrías causar una recursión infinita con la lista de conductores que a su vez apuntan al equipo

------------------------------------ * --------------------------

Eliminaciones de equipos. 

Filtros Pro,Implementar Specification o Query Methods para búsquedas.,"El usuario querrá filtrar ""Viajes de la semana pasada""."
¿Te gustaría que te enseñe a usar Query Methods de Spring Data para hacer estos filtros de forma rápida? Es el último paso antes de decir: "Backend: Misión Cumplida".

Validaciones Finales,"Revisar que no se pueda ""Eliminar"" un vehículo que esté EN_VIAJE.",Evitar inconsistencias de estado en plena operación.

Swagger (SpringDoc): Configurar el OpenAPI Bean para que acepte el Header Authorization: Bearer <token> en la UI, permitiéndote probar las HUs estando logueado.


3. Advertencia de Senior: El "Peligro" del Supervisor_ID
En tu ViajeRequestDTO actual, estás pidiendo el supervisorId en el JSON de entrada. Riesgo: Un usuario malintencionado con rol SUPERVISOR_PLANTA podría enviar el ID de otro supervisor y registrar un viaje a nombre de un tercero.

Acción Correctiva: Una vez implementado JWT, eliminaremos el supervisorId del DTO de entrada. El ViajeService deberá extraerlo directamente del usuario autenticado en el servidor. "Nunca confíes en un ID de auditoría que venga del cliente".
